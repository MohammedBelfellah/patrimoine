{% extends "core/base.html" %}
{% block title %}Documents{% endblock %}
{% block head_extra %}
<style>
  .page-title { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
  .page-title h2 { margin: 0; font-size: 2.2rem; font-weight: 700; color: #1f2937; }
  .table-wrap { overflow-x: auto; }
  table { width: 100%; border-collapse: collapse; background: #fff; }
  thead th { background: #18202b; color: #fff; font-size: 1.03rem; font-weight: 700; border: none; }
  th, td { padding: 12px; text-align: left; border-bottom: 1px solid #d8dee6; font-size: .98rem; }
  tr:hover { background: #f6f8fb; }
  .results-count { color: #4b5563; margin: 8px 0 12px; font-size: .98rem; }
  @media (max-width: 1200px) { .page-title h2 { font-size: 1.7rem; } }
</style>
{% endblock %}
{% block content %}
<div class="card">
  <div class="page-title">
    <h2><i class="bi bi-file-earmark-medical"></i> Documents</h2>
  </div>
  <p class="muted">Gestion centralisée des pièces jointes et uploads.</p>
  <p class="results-count"><i class="bi bi-square-fill" style="font-size:.65rem;"></i> {{ documents|length }} document(s)</p>
  
  {% if documents %}
  <div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th>Nom</th>
        <th>Type</th>
        <th>Taille (MB)</th>
        <th>Uploadé par</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      {% for doc in documents %}
      <tr>
        <td>{{ doc.file_name }}</td>
        <td>{{ doc.get_type_document_display }}</td>
        <td>{{ doc.file_size_mb }}</td>
        <td>{{ doc.uploaded_by.email }}</td>
        <td>{{ doc.uploaded_at|date:"d/m/Y H:i" }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
  {% else %}
  <p class="muted">Aucun document enregistré.</p>
  {% endif %}
</div>
{% endblock %}
